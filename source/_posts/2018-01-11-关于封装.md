---
title: 关于封装
date: 2018-01-11 15:01:53
tags: js object
categories: 编程
---

## 对象封装
### 什么是对象？
> 对象：无序属性的集合，其属性可以包含基本值，对象或者函数


### 创建对象的方法有多少种？

- var obj = {}; // 字面量
- var obj = new Object(); // new


### 封装对象的目的是什么？
- 隐藏细节实现，开放接口调用
- 复用，使逻辑清晰，代码好维护


### 怎么封装？

#### 原型链?

```javascript
// 工厂模式
function createPoint(x, y){
    var point = new Object();
    
    point.x = x;
    point.y = y;
    
    point.getX = function(){
        return x;
    };
    
    point.getY = function(){
            return y;
    };
    
    return point;
}

// 构造函数模式
function Point(x, y){
    this.x = x;
    this.y = y;
    
    this.getX = function() {
         return this.x;
    };
    
    this.getY = function(){
        return this.y;
    };
}

var point = new Point(1, 2);

// 原型建立公私有属性或方法
function Point(x, y){
    this.x = x;
    this.y = y;
}

Point.prototype.getX = function(){
    return this.x;
};
Point.prototype.getY = function(){
    return this.y;
};
// 或者
Point.protoType = {
    getX: function(){
        return this.x;
    },
    getY: function(){
       return this.y;
    },
    // 注意这种方式必须要加 constructor, 因为 {} 表示一个新的对象，其中并不包含 constructor 
    constructor: Point
};

```
> 注：加 constructor 的情况要记住, 因为 {} 表示一个新的对象，其中并不包含 constructor 

#### 继承?


#### new?

```
function Base(name, age){
    this.name = name;
    this.age = age;
}

var obj = new Base();

// new 等价于
var obj = {};
obj.__proto__ = Base.prototype;
Base.call(obj, name, age);

obj instanceof Base // true

```

